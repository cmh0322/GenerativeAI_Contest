import React, { useState, useEffect, useRef } from 'react';

import {

  Activity,

  Mic,

  Video,

  Archive,

  Users,

  BarChart3,

  Calendar,

  Settings,

  Play,

  AlertCircle,

  CheckCircle2,

  MoreVertical,

  ArrowRight,

  TrendingUp,

  BrainCircuit,

  Heart

} from 'lucide-react';



// --- AI Engine Utility (GPT-4o / Analysis) ---

const apiKey = "";

const MODEL_NAME = "gemini-2.5-flash-preview-09-2025";



async function callGPT4o(prompt, systemInstruction = "") {

  try {

    const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/${MODEL_NAME}:generateContent?key=${apiKey}`, {

      method: "POST",

      headers: { "Content-Type": "application/json" },

      body: JSON.stringify({

        contents: [{ parts: [{ text: prompt }] }],

        systemInstruction: { parts: [{ text: systemInstruction }] }

      })

    });

    const result = await response.json();

    return result.candidates?.[0]?.content?.parts?.[0]?.text || "GPT-4o 분석 결과를 가져올 수 없습니다.";

  } catch (error) {

    console.error("AI API Error:", error);

    return "GPT-4o 연결 중 오류가 발생했습니다.";

  }

}



// --- Mock Data ---

const INITIAL_PATIENTS = [

  { id: 1, name: "김지수", session: "2회기", type: "비행기 추락 사고 PTSD", progress: 23, lastDate: "25/12/26", avgBpm: 78 },

  { id: 2, name: "박진혁", session: "14회기", type: "화재 사고 PTSD", progress: 84, lastDate: "25/12/25", avgBpm: 72 },

  { id: 3, name: "최민희", session: "5회기", type: "교통사고 PTSD", progress: 45, lastDate: "25/12/24", avgBpm: 80 }

];



// --- Components ---



const SidebarItem = ({ icon: Icon, label, active, onClick }) => (

  <button

    onClick={onClick}

    className={`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${

      active ? 'bg-emerald-600 text-white shadow-md' : 'text-slate-500 hover:bg-slate-100 hover:text-emerald-700'

    }`}

  >

    <Icon size={20} />

    <span className="font-semibold text-sm">{label}</span>

  </button>

);



const Dashboard = ({ patients }) => (

  <div className="p-8 space-y-8 animate-in fade-in duration-500">

    <header className="flex justify-between items-end">

      <div>

        <h1 className="text-3xl font-bold text-slate-900">전문의 이정화님, 안녕하세요.</h1>

        <p className="text-slate-500 text-sm mt-1 font-medium">서울대학교병원 | PTSD 전문의 15년차</p>

      </div>

      <div className="flex gap-4">

        <div className="bg-white p-4 rounded-2xl border border-slate-200 shadow-sm">

          <p className="text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1">평균 심박수 안정도</p>

          <p className="text-xl font-black text-emerald-600">↑ 15% 개선</p>

        </div>

      </div>

    </header>



    <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">

      {/* Active Video Generation */}

      <div className="lg:col-span-2 bg-white rounded-3xl p-8 border border-slate-200 shadow-sm">

        <h3 className="text-lg font-bold text-slate-900 mb-6 flex items-center gap-2">

          <Video className="text-emerald-500" size={20} />

          생성 중인 치료 영상

        </h3>

        <div className="space-y-4">

          {patients.slice(0, 2).map(p => (

            <div key={p.id} className="bg-slate-50 p-5 rounded-2xl border border-slate-100 flex items-center justify-between group hover:border-emerald-200 transition-colors">

              <div className="flex items-center gap-5">

                <div className="w-14 h-14 bg-emerald-100 rounded-2xl flex items-center justify-center">

                  <Video className="text-emerald-600" size={24} />

                </div>

                <div>

                  <p className="text-slate-900 font-bold text-lg">{p.name}님 <span className="text-slate-400 font-normal text-sm ml-2">{p.session}</span></p>

                  <p className="text-xs text-slate-500">마지막 업데이트: {p.lastDate}</p>

                </div>

              </div>

              <div className="flex flex-col items-end gap-2">

                <div className="flex items-center gap-3">

                  <span className="text-xs font-bold text-emerald-600">{p.progress}%</span>

                  <div className="w-40 h-2 bg-slate-200 rounded-full overflow-hidden">

                    <div className="h-full bg-emerald-500" style={{ width: `${p.progress}%` }}></div>

                  </div>

                </div>

                <p className="text-[10px] text-slate-400 italic">남은 시간: 약 3시간 17분 (Luma/Runway)</p>

              </div>

            </div>

          ))}

        </div>

      </div>



      {/* Calendar Preview */}

      <div className="bg-white rounded-3xl p-8 border border-slate-200 shadow-sm">

        <div className="flex justify-between items-center mb-6">

          <h3 className="text-lg font-bold text-slate-900">오늘의 진료 일정</h3>

          <Calendar size={18} className="text-slate-400" />

        </div>

        <div className="space-y-4">

          {[

            { time: "14:00", task: "김지수님 상담 2회기", color: "bg-emerald-500" },

            { time: "15:30", task: "교수 전체 회의", color: "bg-slate-400" },

            { time: "17:00", task: "박진혁님 상담 15회기", color: "bg-emerald-600" }

          ].map((item, idx) => (

            <div key={idx} className="flex gap-4 items-start group cursor-pointer">

              <span className="text-xs font-bold text-slate-400 w-10">{item.time}</span>

              <div className="flex-1 bg-slate-50 p-3 rounded-xl border border-slate-100 group-hover:bg-emerald-50 group-hover:border-emerald-100 transition-all">

                <p className="text-xs font-bold text-slate-700">{item.task}</p>

              </div>

            </div>

          ))}

        </div>

      </div>

    </div>

  </div>

);



const Counseling = () => {

  const [isRecording, setIsRecording] = useState(false);

  const [transcript, setTranscript] = useState([

    { role: 'patient', text: "이 이야기를 꺼내는 것 자체가 너무 무서워요. 생각하려고 하면 몸이 먼저 반응해요. 숨이 막히는 것 같아요.", time: "20:26" },

    { role: 'therapist', text: "괜찮아요. 지금 이렇게 말해주는 것 자체가 정말 큰 용기예요. 천천히 말씀하셔도 됩니다.", time: "21:10" }

  ]);

  const [analysis, setAnalysis] = useState(null);

  const [isAnalyzing, setIsAnalyzing] = useState(false);



  const startRecording = () => {

    setIsRecording(true);

  };



  const stopRecording = async () => {

    setIsRecording(false);

    setIsAnalyzing(true);

    const textToAnalyze = transcript.map(t => `${t.role}: ${t.text}`).join("\n");

    const result = await callGPT4o(

      `다음 상담 내용을 바탕으로 PTSD 핵심 키워드를 [감각, 신체, 인지, 감정, 회피] 카테고리로 분류해줘:\n${textToAnalyze}`,

      "너는 세계 최고의 PTSD 전문 심리 분석 AI(GPT-4o)야. 임상적 관점에서 리스트 형태로 핵심 키워드와 분석 결과를 정리해줘."

    );

    setAnalysis(result);

    setIsAnalyzing(false);

  };



  return (

    <div className="p-8 h-full flex flex-col space-y-8 animate-in slide-in-from-right-4 duration-500">

      <div className="flex justify-between items-center">

        <div>

          <h2 className="text-3xl font-bold text-slate-900 tracking-tight">상담 분석 (OpenAI Whisper & GPT-4o)</h2>

          <p className="text-slate-500 font-medium">환자: 김지수 | 관리 번호: #PTSD-2025-0042</p>

        </div>

        <button

          onClick={isRecording ? stopRecording : startRecording}

          className={`flex items-center gap-3 px-8 py-4 rounded-2xl font-bold transition-all shadow-lg ${

            isRecording ? 'bg-red-500 animate-pulse text-white shadow-red-200' : 'bg-emerald-600 text-white hover:bg-emerald-700 shadow-emerald-200'

          }`}

        >

          <Mic size={20} />

          {isRecording ? "녹음 종료 및 GPT-4o 분석" : "Whisper 상담 시작"}

        </button>

      </div>



      <div className="grid grid-cols-1 lg:grid-cols-3 gap-8 flex-1 min-h-0">

        <div className="lg:col-span-2 bg-white rounded-3xl border border-slate-200 shadow-sm flex flex-col overflow-hidden">

          <div className="p-5 border-b border-slate-100 flex justify-between items-center bg-slate-50/50">

            <span className="text-[10px] font-black text-slate-400 tracking-widest uppercase">Whisper STT Raw Stream</span>

            <span className="text-xs text-emerald-600 font-bold flex items-center gap-1.5">

              <span className="w-2 h-2 bg-emerald-500 rounded-full animate-pulse"></span>

              Live Connected

            </span>

          </div>

          <div className="flex-1 overflow-y-auto p-8 space-y-8">

            {transcript.map((chat, i) => (

              <div key={i} className={`flex flex-col ${chat.role === 'therapist' ? 'items-end' : 'items-start'}`}>

                <div className={`max-w-[80%] p-5 rounded-3xl shadow-sm ${

                  chat.role === 'therapist'

                    ? 'bg-emerald-600 text-white rounded-tr-none'

                    : 'bg-slate-100 text-slate-800 rounded-tl-none border border-slate-200'

                }`}>

                  <p className="text-sm font-medium leading-relaxed">{chat.text}</p>

                </div>

                <span className="text-[10px] text-slate-400 mt-2 font-bold">{chat.time}</span>

              </div>

            ))}

            {isRecording && (

              <div className="flex gap-3 items-center text-emerald-600 italic font-medium text-sm">

                <div className="flex gap-1">

                  <span className="w-1 h-4 bg-emerald-400 animate-bounce"></span>

                  <span className="w-1 h-6 bg-emerald-600 animate-bounce [animation-delay:0.2s]"></span>

                  <span className="w-1 h-3 bg-emerald-400 animate-bounce [animation-delay:0.4s]"></span>

                </div>

                <span>실시간 음성 분석 중...</span>

              </div>

            )}

          </div>

        </div>



        <div className="bg-white rounded-3xl border border-slate-200 shadow-sm p-8 flex flex-col">

          <div className="flex items-center gap-3 mb-6">

            <div className="p-2 bg-emerald-100 rounded-lg">

              <BrainCircuit className="text-emerald-600" size={20} />

            </div>

            <h3 className="font-bold text-slate-900">GPT-4o Deep Analysis</h3>

          </div>

         

          {isAnalyzing ? (

            <div className="flex-1 flex flex-col items-center justify-center space-y-4">

              <div className="w-12 h-12 border-4 border-emerald-500 border-t-transparent rounded-full animate-spin"></div>

              <p className="text-slate-500 text-sm font-medium">상담 맥락을 심층 분석 중...</p>

            </div>

          ) : analysis ? (

            <div className="flex-1 overflow-y-auto space-y-5">

              <div className="whitespace-pre-wrap text-xs text-slate-600 leading-relaxed bg-slate-50 p-6 rounded-2xl border border-slate-100 border-l-4 border-l-emerald-500">

                {analysis}

              </div>

              <div className="p-5 bg-emerald-50 border border-emerald-100 rounded-2xl">

                <p className="text-[10px] text-emerald-700 font-black mb-2 uppercase tracking-tighter">AI 치료 처방 제안</p>

                <p className="text-xs text-emerald-900 font-medium">"신체적 압박감이 두드러지므로 EMDR 1단계 영상의 '감각 차단' 모드 적용을 추천합니다."</p>

              </div>

            </div>

          ) : (

            <div className="flex-1 flex flex-col items-center justify-center text-center p-8 opacity-50">

              <Activity size={48} className="mb-4 text-slate-300" />

              <p className="text-sm text-slate-400 font-medium">상담이 완료되면 GPT-4o가<br/>핵심 인사이트를 추출합니다.</p>

            </div>

          )}

        </div>

      </div>

    </div>

  );

};



const VideoGen = () => {

  const [stage, setStage] = useState(1);

  const [prompt, setPrompt] = useState("");

  const [isGenerating, setIsGenerating] = useState(false);



  const handleGenerate = () => {

    setIsGenerating(true);

    setTimeout(() => setIsGenerating(false), 3000);

  };



  return (

    <div className="p-8 max-w-6xl mx-auto space-y-10 animate-in fade-in duration-700">

      <div className="flex justify-between items-start">

        <div>

          <h2 className="text-3xl font-bold text-slate-900">치료 콘텐츠 생성 (Gen-AI)</h2>

          <p className="text-slate-500 font-medium mt-1">Luma Dream Machine & Runway Gen-3 연동</p>

        </div>

        <div className="flex gap-2 bg-slate-100 p-1.5 rounded-2xl">

          {[1, 2, 3, 4].map(s => (

            <button

              key={s}

              onClick={() => setStage(s)}

              className={`px-6 py-2 rounded-xl text-xs font-bold transition-all ${

                stage === s ? 'bg-white text-emerald-600 shadow-sm' : 'text-slate-500 hover:bg-white/50'

              }`}

            >

              {s}단계

            </button>

          ))}

        </div>

      </div>



      <div className="grid grid-cols-1 md:grid-cols-2 gap-10">

        <div className="space-y-8">

          <div className="bg-emerald-50 p-8 rounded-3xl border border-emerald-100">

            <h4 className="text-[10px] font-black text-emerald-700 mb-3 uppercase tracking-widest">GPT-4o Context Summary</h4>

            <p className="text-sm text-emerald-900 font-medium leading-relaxed italic">

              "비행기 엔진음과 진동에 대한 감각적 트라우마가 높음. 점진적 이완을 위한 수중 음향 환경과 부드러운 빛의 굴절 효과가 필요함."

            </p>

          </div>



          <div className="space-y-4">

            <h4 className="text-sm font-bold text-slate-900">프롬프트 상세 조정</h4>

            <textarea

              value={prompt}

              onChange={(e) => setPrompt(e.target.value)}

              placeholder="GPT-4o가 생성한 기본 설정에 전문가의 세부 조정을 추가하세요..."

              className="w-full h-48 bg-white border border-slate-200 rounded-3xl p-6 text-sm text-slate-700 shadow-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none transition-all"

            />

            <button

              onClick={handleGenerate}

              disabled={isGenerating}

              className="w-full bg-emerald-600 text-white py-5 rounded-3xl font-bold shadow-lg shadow-emerald-200 hover:bg-emerald-700 transition-all flex items-center justify-center gap-3"

            >

              {isGenerating ? (

                <>

                  <div className="w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"></div>

                  <span>Runway Engine Rendering...</span>

                </>

              ) : (

                <>

                  <Play size={20} />

                  <span>영상 생성 및 전송</span>

                </>

              )}

            </button>

          </div>

        </div>



        <div className="space-y-6">

          <h4 className="text-sm font-bold text-slate-900">실시간 미리보기</h4>

          <div className="aspect-video bg-slate-100 rounded-[2.5rem] border border-slate-200 flex flex-col items-center justify-center relative overflow-hidden shadow-xl group">

            {stage <= 2 ? (

              <div className="w-full h-full flex items-center justify-center bg-gradient-to-br from-white to-emerald-50/50">

                <div className="relative w-full h-full flex items-center justify-center">

                   <div className="w-12 h-12 bg-emerald-500 rounded-full shadow-[0_0_50px_rgba(16,185,129,0.5)] animate-[ping-pong_6s_ease-in-out_infinite]"></div>

                   <style>{`

                    @keyframes ping-pong {

                      0%, 100% { transform: translateX(-180px); filter: blur(4px); }

                      50% { transform: translateX(180px); filter: blur(0px); }

                    }

                   `}</style>

                   <p className="absolute bottom-8 text-[10px] text-slate-400 font-black uppercase tracking-[0.3em]">Phase {stage}: EMDR Visual Tracking</p>

                </div>

              </div>

            ) : (

              <div className="text-center p-12">

                <Video size={56} className="text-slate-300 mx-auto mb-6" />

                <p className="text-slate-500 font-bold">Luma Dream Machine으로 생성된<br/><span className="text-emerald-600">3-4단계 고해상도 시뮬레이션</span>이 로드됩니다.</p>

              </div>

            )}

            <div className="absolute inset-0 bg-emerald-900/10 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center">

               <button className="p-5 bg-white shadow-xl rounded-full text-emerald-600 hover:scale-110 transition-transform">

                  <Settings size={28} />

               </button>

            </div>

          </div>

         

          <div className="bg-white p-6 rounded-3xl border border-slate-200 shadow-sm">

            <h5 className="text-[11px] font-black text-emerald-600 mb-3 uppercase tracking-widest">GPT-4o 예측 치료 효과</h5>

            <ul className="text-xs text-slate-500 space-y-3 font-medium">

              <li className="flex gap-3">

                <div className="p-0.5 bg-emerald-100 rounded-full shrink-0"><CheckCircle2 size={16} className="text-emerald-600" /></div>

                <span>안구 운동 민감소실(EMDR)을 통한 기억 재구조화 가속</span>

              </li>

              <li className="flex gap-3">

                <div className="p-0.5 bg-emerald-100 rounded-full shrink-0"><CheckCircle2 size={16} className="text-emerald-600" /></div>

                <span>심박 변이도(HRV) 기반 과각성 수치 22% 완화 예상</span>

              </li>

            </ul>

          </div>

        </div>

      </div>

    </div>

  );

};



const HeartRateMonitor = () => {

  const [bpm, setBpm] = useState(78);

  const [history, setHistory] = useState(Array.from({ length: 25 }, () => 70 + Math.floor(Math.random() * 20)));



  useEffect(() => {

    const interval = setInterval(() => {

      const next = 70 + Math.floor(Math.random() * 30);

      setBpm(next);

      setHistory(prev => [...prev.slice(1), next]);

    }, 2000);

    return () => clearInterval(interval);

  }, []);



  const isCritical = bpm > 110;



  return (

    <div className="p-8 space-y-8 animate-in fade-in duration-500">

      <div className="flex justify-between items-center">

        <div>

          <h2 className="text-3xl font-bold text-slate-900 tracking-tight">생체 데이터 분석 (Edge Device)</h2>

          <p className="text-slate-500 font-medium mt-1">실시간 심박수 모니터링 및 스트레스 지수 측정</p>

        </div>

        <div className="flex gap-3">

           <span className="bg-emerald-50 text-emerald-700 px-4 py-1.5 rounded-full text-[10px] font-black border border-emerald-100 uppercase tracking-widest">Active Link</span>

        </div>

      </div>



      <div className="grid grid-cols-1 lg:grid-cols-4 gap-8">

        <div className="lg:col-span-3 bg-white rounded-[2.5rem] border border-slate-200 p-10 shadow-sm">

          <div className="flex justify-between items-center mb-12">

            <div className="flex items-center gap-8">

              <div className={`p-6 rounded-3xl transition-all duration-500 shadow-xl ${isCritical ? 'bg-red-500 scale-110 shadow-red-200' : 'bg-emerald-50 shadow-emerald-50'}`}>

                <Heart className={isCritical ? 'text-white animate-pulse' : 'text-emerald-500'} fill={isCritical ? 'white' : 'currentColor'} size={40} />

              </div>

              <div>

                <p className="text-6xl font-black text-slate-900 tracking-tighter">{bpm} <span className="text-2xl font-medium text-slate-300">BPM</span></p>

                <p className={`text-sm font-bold mt-2 ${isCritical ? 'text-red-500' : 'text-emerald-600'}`}>

                  {isCritical ? "경고: 과각성 반응 감지됨" : "정상: 심리적 안정 상태"}

                </p>

              </div>

            </div>

            <div className="text-right">

              <p className="text-[10px] text-slate-400 uppercase font-black tracking-widest mb-1">Session Target</p>

              <p className="text-2xl font-bold text-slate-900">김지수 <span className="text-slate-400 font-medium text-lg">2회기 시청 중</span></p>

            </div>

          </div>



          <div className="h-64 w-full flex items-end gap-2 px-4">

            {history.map((h, i) => (

              <div

                key={i}

                className={`flex-1 rounded-full transition-all duration-1000 ${h > 100 ? 'bg-red-400' : 'bg-emerald-400'}`}

                style={{ height: `${(h / 150) * 100}%`, opacity: 0.2 + (i / 25) * 0.8 }}

              ></div>

            ))}

          </div>

         

          {isCritical && (

            <div className="mt-10 p-6 bg-red-50 border border-red-100 rounded-3xl flex items-center gap-6 animate-in slide-in-from-bottom-2">

              <div className="w-12 h-12 bg-red-500 rounded-full flex items-center justify-center shrink-0 shadow-lg shadow-red-100">

                <AlertCircle className="text-white" size={24} />

              </div>

              <p className="text-sm text-red-800 font-semibold leading-relaxed">

                <strong>GPT-4o 실시간 긴급 진단:</strong> 현재 환자의 공포 정서가 신체적으로 발현되고 있습니다. 영상을 즉시 중단하고 이완 호흡 프로토콜로 전환을 제안합니다.

              </p>

            </div>

          )}

        </div>



        <div className="space-y-8">

          <div className="bg-white p-8 rounded-[2rem] border border-slate-200 shadow-sm">

            <h3 className="font-bold text-slate-900 mb-6 flex items-center gap-3">

              <TrendingUp size={20} className="text-emerald-500" />

              오늘의 데이터 통계

            </h3>

            <div className="space-y-5 text-xs">

              <div className="flex justify-between border-b border-slate-100 pb-4">

                <span className="text-slate-400 font-bold uppercase">최고 심박수</span>

                <span className="text-slate-900 font-black">138 BPM</span>

              </div>

              <div className="flex justify-between border-b border-slate-100 pb-4">

                <span className="text-slate-400 font-bold uppercase">불안 피크 타임</span>

                <span className="text-red-500 font-black">10:20</span>

              </div>

              <div className="mt-6">

                <p className="text-[10px] font-black text-emerald-700 uppercase mb-3">AI Deep Learning Insight</p>

                <p className="text-slate-600 leading-relaxed font-medium bg-slate-50 p-4 rounded-2xl border border-slate-100">

                  GPT-4o 분석 결과, 환자는 저주파 배경 소음에서 공황 증세가 유발됩니다. 다음 회기 영상에서는 음향 필터링 강화가 필수적입니다.

                </p>

              </div>

            </div>

          </div>

         

          <button className="w-full py-5 rounded-[2rem] bg-slate-900 text-white font-bold text-sm shadow-xl hover:bg-slate-800 transition-all">

            종합 치료 리포트 발행

          </button>

        </div>

      </div>

    </div>

  );

};



export default function App() {

  const [activeTab, setActiveTab] = useState('dashboard');

  const [patients, setPatients] = useState(INITIAL_PATIENTS);



  const renderContent = () => {

    switch (activeTab) {

      case 'dashboard': return <Dashboard patients={patients} />;

      case 'counseling': return <Counseling />;

      case 'video-gen': return <VideoGen />;

      case 'heart-rate': return <HeartRateMonitor />;

      default: return <Dashboard patients={patients} />;

    }

  };



  return (

    <div className="flex h-screen bg-slate-50 font-sans text-slate-800 overflow-hidden">

      {/* Sidebar */}

      <aside className="w-72 border-r border-slate-200 flex flex-col p-8 space-y-10 z-20 bg-white shadow-sm">

        <div className="flex items-center gap-4 px-2">

          <div className="w-12 h-12 bg-emerald-600 rounded-2xl flex items-center justify-center shadow-lg shadow-emerald-100">

            <BrainCircuit className="text-white" size={28} />

          </div>

          <span className="text-2xl font-black tracking-tighter text-slate-900 italic">MindStep</span>

        </div>



        <nav className="flex-1 space-y-2">

          <SidebarItem icon={Activity} label="종합 대시보드" active={activeTab === 'dashboard'} onClick={() => setActiveTab('dashboard')} />

          <SidebarItem icon={Mic} label="Whisper 상담하기" active={activeTab === 'counseling'} onClick={() => setActiveTab('counseling')} />

          <SidebarItem icon={Video} label="치료 영상 제작" active={activeTab === 'video-gen'} onClick={() => setActiveTab('video-gen')} />

          <SidebarItem icon={Archive} label="영상 보관함" active={activeTab === 'archive'} onClick={() => setActiveTab('archive')} />

          <SidebarItem icon={BarChart3} label="심박수 분석" active={activeTab === 'heart-rate'} onClick={() => setActiveTab('heart-rate')} />

          <SidebarItem icon={Users} label="환자 관리" active={activeTab === 'patients'} onClick={() => setActiveTab('patients')} />

        </nav>



        <div className="pt-8 border-t border-slate-100">

          <div className="flex items-center gap-4 px-2">

            <div className="w-10 h-10 bg-slate-100 rounded-full border border-slate-200 p-0.5">

              <img className="w-full h-full rounded-full object-cover" src="https://api.dicebear.com/7.x/avataaars/svg?seed=doctor" alt="Doctor" />

            </div>

            <div className="flex-1 min-w-0">

              <p className="text-xs font-bold text-slate-900 truncate tracking-tight">이정화 전문의</p>

              <p className="text-[10px] text-slate-400 font-bold uppercase">Chief MD</p>

            </div>

            <Settings size={18} className="text-slate-400 hover:text-emerald-600 cursor-pointer transition-colors" />

          </div>

        </div>

      </aside>



      {/* Main Content Area */}

      <main className="flex-1 overflow-y-auto">

        <div className="max-w-[1600px] mx-auto min-h-full">

          {renderContent()}

        </div>

      </main>

    </div>

  );

}